# Telegram Bot API Server - 안정적인 버전
# 공식 tdlib/telegram-bot-api 이미지 사용

FROM ghcr.io/tdlib/telegram-bot-api:latest

# Railway의 동적 포트 사용 (기본값: 8080)
EXPOSE 8080

# telegram-bot-api 실행
# shell 형식을 사용하여 Railway의 런타임 환경 변수를 직접 참조
CMD ["/bin/sh", "-c", "telegram-bot-api --local --api-id=$TELEGRAM_API_ID --api-hash=$TELEGRAM_API_HASH --http-port=${PORT:-8080}"]